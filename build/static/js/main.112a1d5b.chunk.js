(window.webpackJsonpphonebook=window.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(39)},20:function(e,t,n){},21:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(14),c=n.n(a),i=(n(20),n(4)),u=n(2),l=(n(21),function(e){var t=e.value,n=e.onChange;return o.a.createElement(o.a.Fragment,null,"Filter shown with ",o.a.createElement("input",{value:t,onChange:n}))}),s=function(e){var t=e.newName,n=e.onNameChange,r=e.newNumber,a=e.onNumberChange,c=e.onSubmit;return o.a.createElement("form",{onSubmit:c},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:t,onChange:n})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:r,onChange:a})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},f=function(e){var t=e.persons,n=e.searchPersons,r=e.deleteUser,a=""===n?t:t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(n.toLowerCase())}));return console.log(a),o.a.createElement(o.a.Fragment,null,a.map((function(e){return o.a.createElement("p",{key:e.name},e.name," ",e.number,o.a.createElement("button",{onClick:function(){r(e.id,e.name)}},"Delete"))})))},m=n(3),b=n.n(m),p=function(){return b.a.get("/api/persons").then((function(e){return e.data}))},d=function(e){return b.a.post("/api/persons",e).then((function(e){return e.data}))},O=function(e,t){return b.a.put("".concat("/api/persons","/").concat(t),e).then((function(e){return e.data}))},h=function(e){return b.a.delete("http://localhost:3001/api/persons/".concat(e))};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var v=function(e){var t=e.isNotificationVisible,n=e.notificationMessage,r=e.isError,a={color:"green",backgroundColor:"lightgrey",padding:10,margin:"20px 2px",border:"solid 2px green"};if(!1===t)return null;if(!0===r){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{border:"solid 2px red",color:"red"});return o.a.createElement("div",{style:c},n," ")}return o.a.createElement("div",{style:a},n," ")};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var j=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),m=Object(u.a)(c,2),b=m[0],g=m[1],j=Object(r.useState)(""),E=Object(u.a)(j,2),y=E[0],P=E[1],C=Object(r.useState)(""),S=Object(u.a)(C,2),k=S[0],D=S[1],N=Object(r.useState)(!1),x=Object(u.a)(N,2),F=x[0],L=x[1],U=Object(r.useState)(""),I=Object(u.a)(U,2),J=I[0],M=I[1],V=Object(r.useState)(!1),A=Object(u.a)(V,2),B=A[0],T=A[1];Object(r.useEffect)((function(){p().then((function(e){console.log("promise resolved"),a(e)}))}),[]);var q=function(e){M(e),L(!0),setTimeout((function(){L(!1)}),5e3)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(v,{notificationMessage:J,isNotificationVisible:F,isError:B}),o.a.createElement(l,{value:k,onChange:function(e){D(e.target.value)}}),o.a.createElement("h3",null," Add a new..."),o.a.createElement(s,{onSubmit:function(e){e.preventDefault();var t={name:b,number:y};if(n.some((function(e){return e.name.toLowerCase()===b.toLowerCase()}))){if(window.confirm("".concat(t.name," is already added to the phone, replace the old number with a new one?"))){var r=n.find((function(e){return e.name===t.name})),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{number:t.number});O(o,o.id).then((function(e){a(n.map((function(t){return t.id!==e.id?t:e}))),q("User ".concat(b,"'s phone number is updated"))})).catch((function(e){T(!0),q("Information for ".concat(r.name," was already removed from the server")),a(n.filter((function(e){return e.id!==o.id})))}))}}else d(t).then((function(e){a(n.concat(e)),q("User ".concat(b," is added to the phonebook")),g(""),P("")}))},newName:b,onNameChange:function(e){g(e.target.value)},newNumber:y,onNumberChange:function(e){P(e.target.value)}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(f,{persons:n,searchPersons:k,deleteUser:function(e,t){window.confirm("Delete ".concat(t,"?"))&&(h(e),a(n.filter((function(t){return t.id!==e}))))}}))};c.a.render(o.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.112a1d5b.chunk.js.map